<h2>Edit Song</h2>

<h3>Edits for <%= @song.name %></h3>

<form action="/songs/<%= @song.slug %>" method="post">
    <input id="hidden" type="hidden" name="_method" value="patch">
<label>Edit the Song Name: </label>
<input type="text" name="song[name]" value="<%= @song.name %>" id="name"> <!-- #no colons in front of name, they're being passed into params and controller is looking for song[name], not song[:name] -->
<!-- #before {"_method"=>"patch", "song"=>{":name"=>"Heart of Glass - 1997", ":artist"=>{":name"=>"Blondie Reformed"}}, "slug"=>"heart-of-glass"} -->
<!-- #now {"_method"=>"PATCH", "song"=>{"name"=>"Heart of Glass - 1997"}, "artist"=>{"name"=>"Blondie Reformed"}, "genres"=>["3", "4"], "slug"=>"heart-of-glass"} -->
<br>
<label>Edit the Artist: </label>
<input type="text" name="artist[name]" value="<%= @song.artist.name %>" id="Artist Name">
<br>
<label>Edit the Genre: </label>
<% Genre.all.each do |genre| %> <!-- # is there a way to do this outside of erb? despite not being able to do it in controller because of SoC? -->
    <label><%= genre.name %></label>
    <input type="checkbox" name="genres[]" value="<%= genre.id %>" id="<%= genre.name %>" <%='checked' if @song.genres.include?(genre) %>> <!-- # same as in the nyc sinatra -->
    <% end %>
<input type="submit" value="Save">
</form>

<a class="button" href="/songs">songs</a>
<a class="button" href="/">Home</a>
